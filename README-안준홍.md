# 08_PJT

## 팔로우 기능 구현

### `views.py`
- 수정 사항
  - **context**
    - 현재 팔로우 여부에 대한 데이터를 `isFollowed` 변수에 저장
    - 현재 팔로우 수에 대한 데이터를 `cnt`에 저장
  - **return**
    - `JsonResponse(context)`를 통해 `isFollowed`와 `cnt` 를 반환
  - **is_authenticated**
    - 인증되지 않은 유저는 로그인 페이지로 이동

- 어려웠던 점
  ```md
  `JsonResponse`로 반환하는 이유에 대한 이해도가 부족하여 `redirect`가 아닌 `JsonResponse`변경하여 반환하기 까지 오랜 시간이 걸렸다.
  ```

### `profile.html`
- 수정 사항
  - **form tag**
    - `data-user-id` 속성을 통해 `person.pk` 전달
    - id 설정
  - **script**
    - `csrf-token`, `userId` 에 대한 데이터 변수에 저장
    - `axios`를 이용하여 `POST` 요청
    - 요청이 정상적으로 이루어 질 경우
      - 팔로우 버튼의 `innerText`를 변경
      - 팔로우 수 변경

- 어려웠던 점
  ```md
  `axios`에 대한 사용 방법을 어느정도 이해하고 있었지만 세부적으로 원하는 객체의 데이터를 가져오기 위한 방법에 대한 이해가 부족하여 찾아보지 않고 작성하기에는 많이 어려웠다.
  ```
### 후기
  ```md
  이번 프로젝트를 통해 팔로우 수와 팔로우 버튼에 대한 비동기식 작동방법과 절차에 대해서 깨달을 수 있는 경험이었다. 

  간단히 설명하자면 팔로우 여부와 팔로우 수에 대한 데이터들을 `context`에 저장하여 `redirect`가 아닌 `JsonResponse`로 JSON 형식으로 전달함으로써 페이지 이동이 아닌 `context`에 담긴 데이터를 `axios(비동기식)`를 통해 실시간 반영되도록 하는 작업들이다.

  수업을 열심히 따라가고 있음에도 최근 실습을 거의 하지 못하여 `axios`와 `json`에 대한 이해가 부족했었는데 이렇게 실습하면서 직접 에러를 해결해 나가다보니 비동기식 통신 방법에 대해 이해가 되기 시작했고 프로젝트를 마무리한 지금 검색에 의존하지 않고도 충분히 구현 할 수 있다는 자신감이 생겼다.
  ```